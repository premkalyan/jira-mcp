<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Jira MCP Server - Documentation</title>
  <meta name="description" content="Multi-tenant Jira integration via Model Context Protocol with Project Registry authentication">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      line-height: 1.6;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: hidden;
    }
    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 40px;
      text-align: center;
    }
    header h1 { font-size: 2.5em; margin-bottom: 10px; }
    header p { font-size: 1.2em; opacity: 0.9; }
    .badge {
      display: inline-block;
      background: rgba(255,255,255,0.2);
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9em;
      margin: 5px;
    }
    main { padding: 40px; }
    section { margin-bottom: 40px; }
    h2 {
      color: #667eea;
      font-size: 2em;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }
    h3 {
      color: #764ba2;
      font-size: 1.5em;
      margin: 20px 0 10px 0;
    }
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin: 20px 0;
    }
    .info-card {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      border-left: 4px solid #667eea;
    }
    .info-card strong { color: #667eea; display: block; margin-bottom: 5px; }
    pre {
      background: #2d2d2d;
      color: #f8f8f2;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 15px 0;
      font-size: 0.9em;
    }
    code {
      background: #f8f9fa;
      color: #e83e8c;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Courier New', monospace;
    }
    pre code { background: transparent; color: inherit; padding: 0; }
    .tools-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      margin: 20px 0;
    }
    .tool-card {
      background: linear-gradient(135deg, #667eea22 0%, #764ba222 100%);
      padding: 15px;
      border-radius: 8px;
      border: 2px solid #667eea44;
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .tool-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(102,126,234,0.3);
    }
    .tool-card strong { color: #667eea; display: block; margin-bottom: 5px; font-size: 1.1em; }
    .tool-card small { color: #666; font-size: 0.9em; }
    .endpoint {
      background: #e8f5e9;
      color: #2e7d32;
      padding: 10px 15px;
      border-radius: 5px;
      font-weight: bold;
      display: inline-block;
      margin: 10px 0;
    }
    .warning {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }
    .success {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 20px 0;
      border-radius: 5px;
    }
    footer {
      background: #2d2d2d;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 0.9em;
    }
    footer a { color: #667eea; text-decoration: none; }
    footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üöÄ Jira MCP Server</h1>
      <p>Multi-Tenant Jira Integration via Model Context Protocol</p>
      <div>
        <span class="badge">JSON-RPC 2.0</span>
        <span class="badge">Project Registry</span>
        <span class="badge">Bearer Auth</span>
        <span class="badge">v1.0.3</span>
      </div>
    </header>

    <main>
      <section>
        <h2>üìã Overview</h2>
        <p>This is a <strong>multi-tenant Jira MCP server</strong> that uses the VISHKAR Project Registry for authentication and configuration management. Each project has its own Jira credentials stored in the registry, enabling secure, isolated access to different Jira instances.</p>

        <div class="info-grid">
          <div class="info-card">
            <strong>Authentication Method</strong>
            Bearer token (Project API Key)
          </div>
          <div class="info-card">
            <strong>Registry URL</strong>
            https://project-registry-henna.vercel.app
          </div>
          <div class="info-card">
            <strong>Format</strong>
            JSON-RPC 2.0
          </div>
          <div class="info-card">
            <strong>Endpoint</strong>
            POST /api/mcp
          </div>
        </div>
      </section>

      <section>
        <h2>üîê How It Works</h2>
        <ol style="margin-left: 20px; line-height: 2;">
          <li><strong>VISHKAR</strong> sends a request with your project's Bearer token</li>
          <li><strong>Jira MCP</strong> looks up your project configuration in the registry</li>
          <li><strong>Registry</strong> returns your Jira credentials (URL, email, token, projectKey)</li>
          <li><strong>Jira MCP</strong> executes the request using your credentials</li>
          <li><strong>Jira API</strong> returns the response</li>
        </ol>

        <div class="success">
          <strong>‚ú® Key Benefit:</strong> Your Jira credentials are never hardcoded! They're fetched dynamically from the project registry based on your API key.
        </div>
      </section>

      <section>
        <h2>üõ†Ô∏è Available Tools (16 Total)</h2>
        <p>The following Jira operations are available via the MCP server:</p>

        <h3>üìä Board Management (3 tools)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>get_boards</strong>
            <small>List all Jira boards with filtering options</small>
          </div>
          <div class="tool-card">
            <strong>get_board_details</strong>
            <small>Get comprehensive board information</small>
          </div>
          <div class="tool-card">
            <strong>get_board_issues</strong>
            <small>Get issues for a specific board</small>
          </div>
        </div>

        <h3>üìù Issue Operations (6 tools)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>search_issues</strong>
            <small>Search issues using JQL queries</small>
          </div>
          <div class="tool-card">
            <strong>get_issue_details</strong>
            <small>Get comprehensive issue information</small>
          </div>
          <div class="tool-card">
            <strong>create_issue</strong>
            <small>Create new issues (Epic, Story, Task, Bug)</small>
          </div>
          <div class="tool-card">
            <strong>update_issue</strong>
            <small>Update existing issue fields</small>
          </div>
          <div class="tool-card">
            <strong>transition_issue</strong>
            <small>Move issues between workflow statuses</small>
          </div>
          <div class="tool-card">
            <strong>add_comment</strong>
            <small>Add comments with rich text support</small>
          </div>
        </div>

        <h3>üë• User Management (3 tools)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>get_current_user</strong>
            <small>Get authenticated user information</small>
          </div>
          <div class="tool-card">
            <strong>search_users</strong>
            <small>Find users by name, email, or username</small>
          </div>
          <div class="tool-card">
            <strong>get_user_details</strong>
            <small>Get detailed user information</small>
          </div>
        </div>

        <h3>üìÅ Project Operations (2 tools)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>get_projects</strong>
            <small>List all accessible Jira projects</small>
          </div>
          <div class="tool-card">
            <strong>get_project_details</strong>
            <small>Get comprehensive project information</small>
          </div>
        </div>

        <h3>‚è±Ô∏è Time Tracking (2 tools)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>add_worklog</strong>
            <small>Log work time with flexible formats</small>
          </div>
          <div class="tool-card">
            <strong>get_worklogs</strong>
            <small>View work logs for issues</small>
          </div>
        </div>

        <h3>üñ•Ô∏è System Tools (1 tool)</h3>
        <div class="tools-list">
          <div class="tool-card">
            <strong>get_server_info</strong>
            <small>Get Jira server status and information</small>
          </div>
        </div>
      </section>

      <section>
        <h2>üì° API Usage</h2>

        <h3>Endpoint</h3>
        <div class="endpoint">POST /api/mcp</div>

        <h3>Request Format</h3>
        <pre><code>curl -X POST https://jira-mcp.vercel.app/api/mcp \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_PROJECT_API_KEY" \
  -d '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/call",
    "params": {
      "name": "TOOL_NAME",
      "arguments": {
        // Tool-specific arguments
      }
    }
  }'</code></pre>

        <div class="warning">
          <strong>‚ö†Ô∏è Important:</strong> Replace <code>YOUR_PROJECT_API_KEY</code> with your actual project API key from the registry. The project key (e.g., <code>SA1</code>) and Jira credentials are automatically fetched from your project configuration!
        </div>

        <h3>Example 1: Get Current User</h3>
        <pre><code>{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "tools/call",
  "params": {
    "name": "get_current_user",
    "arguments": {}
  }
}</code></pre>

        <h3>Example 2: Search Issues</h3>
        <pre><code>{
  "jsonrpc": "2.0",
  "id": 2,
  "method": "tools/call",
  "params": {
    "name": "search_issues",
    "arguments": {
      "jql": "assignee=currentUser() AND status!=Done",
      "maxResults": 10
    }
  }
}</code></pre>

        <p style="margin-top: 10px;"><em>Note: Your <code>projectKey</code> is automatically configured in the registry, so you can use it in JQL like <code>"jql": "project = YOUR_KEY"</code></em></p>

        <h3>Example 3: Create Issue</h3>
        <pre><code>{
  "jsonrpc": "2.0",
  "id": 3,
  "method": "tools/call",
  "params": {
    "name": "create_issue",
    "arguments": {
      "projectKey": "YOUR_PROJECT_KEY",
      "issueType": "Story",
      "summary": "Implement user authentication",
      "description": "Add JWT-based authentication system",
      "priority": "High"
    }
  }
}</code></pre>

        <p style="margin-top: 10px;"><em>The <code>projectKey</code> value comes from your project configuration in the registry. You can retrieve it using the <code>get_projects</code> tool.</em></p>
      </section>

      <section>
        <h2>üîë Getting Your Project API Key</h2>
        <ol style="margin-left: 20px; line-height: 2;">
          <li>Register your project in the VISHKAR Project Registry</li>
          <li>Configure your Jira credentials (URL, email, API token, project key)</li>
          <li>Copy your project API key</li>
          <li>Use it as the Bearer token in your requests</li>
        </ol>
      </section>

      <section>
        <h2>‚ùå Common Errors</h2>
        <div class="info-grid">
          <div class="info-card">
            <strong>401 Unauthorized</strong>
            Missing or invalid Bearer token
          </div>
          <div class="info-card">
            <strong>400 Bad Request</strong>
            Project has no Jira configuration
          </div>
          <div class="info-card">
            <strong>-32600 Invalid Request</strong>
            Malformed JSON-RPC 2.0 request
          </div>
          <div class="info-card">
            <strong>-32603 Internal Error</strong>
            Jira API error or MCP execution failure
          </div>
        </div>
      </section>

      <section>
        <h2>üîó Links</h2>
        <ul style="margin-left: 20px; line-height: 2;">
          <li><a href="https://github.com/premkalyan/jira-mcp" target="_blank">GitHub Repository</a></li>
          <li><a href="https://github.com/premkalyan/jira-mcp/blob/main/PROJECT-REGISTRY-INTEGRATION.md" target="_blank">Integration Documentation</a></li>
          <li><a href="https://project-registry-henna.vercel.app" target="_blank">Project Registry</a></li>
          <li><a href="https://developer.atlassian.com/cloud/jira/platform/rest/v3/" target="_blank">Jira REST API Docs</a></li>
          <li><a href="https://modelcontextprotocol.io/" target="_blank">Model Context Protocol</a></li>
        </ul>
      </section>
    </main>

    <footer>
      <p>Jira MCP Server v1.0.3 | Built with ‚ù§Ô∏è for VISHKAR</p>
      <p>
        <a href="https://github.com/premkalyan/jira-mcp/issues" target="_blank">Report Issues</a> |
        <a href="https://github.com/premkalyan/jira-mcp" target="_blank">View Source</a>
      </p>
    </footer>
  </div>
</body>
</html>
